{"mappings":"iiBAAA,IAqBQA,EACAC,EAtBRC,EAAAC,EAAA,SACMC,EAAc,sBACdC,EAAW,GACXC,EAAO,CACRC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAe9BT,EAAYY,aAAaC,QAAQT,GACjCH,EAAWa,KAAKC,MAAMf,GACxBA,IACEC,EAASe,QACXV,EAAKI,MAAMO,MAAQhB,EAASe,MAC5BX,EAASC,EAAKI,MAAMQ,MAAQjB,EAASe,MACrCG,QAAQC,IAAIf,EAASC,EAAKI,MAAMQ,QAE9BjB,EAASoB,UACXf,EAAKK,SAASM,MAAQhB,EAASoB,QAC/BhB,EAASC,EAAKK,SAASO,MAAQjB,EAASoB,UAK9Cf,EAAKC,KAAKe,iBAAiB,UA5B3B,SAAoBC,GAClBA,EAAMC,iBACJL,QAAQC,IAAIf,GACZkB,EAAME,cAAcC,QACpBd,aAAae,WAAWvB,MAyB5BE,EAAKC,KAAKe,iBAAiB,QAASM,EAAA1B,EAAA,EArBpC,SAAmB2B,GACjBxB,EAASwB,EAAEC,OAAOZ,MAAQW,EAAEC,OAAOb,MACnCL,aAAamB,QAAQ3B,EAAaU,KAAKkB,UAAU3B,MAmBK","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst STORAGE_KEY = 'feedback-form-state';\nconst formData = {};\nconst refs = {\n     form: document.querySelector('.feedback-form'),\n     input: document.querySelector('.feedback-form input'),\n     textarea: document.querySelector('.feedback-form textarea'),\n};\nfunction formSubmit(event) {\n  event.preventDefault();\n    console.log(formData);\n    event.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    // formData[refs.input.name] = '';\n    // formData[refs.textarea.name] = ''; \n}\nfunction formInput(e) {\n  formData[e.target.name] = e.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\nfunction reloadForm() {\n  const savedData = localStorage.getItem(STORAGE_KEY);\n  const doneData = JSON.parse(savedData);\n  if (savedData) {\n    if (doneData.email) {\n      refs.input.value = doneData.email;\n      formData[refs.input.name] = doneData.email;\n      console.log(formData[refs.input.name])\n    }\n    if (doneData.message) {\n      refs.textarea.value = doneData.message;\n      formData[refs.textarea.name] = doneData.message;\n    }\n  }\n}\nreloadForm();\nrefs.form.addEventListener('submit', formSubmit);\nrefs.form.addEventListener('input', throttle(formInput, 500));\n"],"names":["savedData","doneData","$dCfNN","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$formData","$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","localStorage","getItem","JSON","parse","email","value","name","console","log","message","addEventListener","event","preventDefault","currentTarget","reset","removeItem","$parcel$interopDefault","e","target","setItem","stringify"],"version":3,"file":"03-feedback.b69c699f.js.map"}